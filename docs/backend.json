{
  "entities": {
    "AdminRole": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "AdminRole",
      "type": "object",
      "description": "Represents an administrator user. The existence of a document in the 'roles_admin' collection with the user's UID as the document ID grants admin privileges.",
      "properties": {
        "assignedAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the admin role was assigned."
        }
      },
      "required": [
        "assignedAt"
      ]
    },
    "Customer": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Customer",
      "type": "object",
      "description": "Represents a customer who has purchased access to the Mega Millions Maximizer number generation service.",
      "properties": {
        "email": {
          "type": "string",
          "description": "The customer's email address.",
          "format": "email"
        },
        "accessCodeId": {
          "type": "string",
          "description": "The ID of the access code assigned to this customer."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the customer was created."
        }
      },
      "required": [
        "email",
        "accessCodeId",
        "createdAt"
      ]
    },
    "AccessCode": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "AccessCode",
      "type": "object",
      "description": "Represents a unique access code granted to a customer after purchase, allowing them to generate number combinations.",
      "properties": {
        "code": {
          "type": "string",
          "description": "The unique access code itself."
        },
        "isUsed": {
          "type": "boolean",
          "description": "Indicates whether the access code has been used to generate numbers.",
          "default": false
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the code was created."
        },
        "usedAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the code was used."
        }
      },
      "required": [
        "code",
        "isUsed",
        "createdAt"
      ]
    }
  },
  "firestore": {
     "/roles_admin/{userId}": {
      "schema": {
        "$ref": "#/entities/AdminRole"
      },
      "description": "Stores user IDs that have administrator privileges. The document ID is the user's UID."
    },
    "/customers/{customerId}": {
      "schema": {
        "$ref": "#/entities/Customer"
      },
      "description": "Stores customer information, including their email and a reference to their access code."
    },
    "/access_codes/{accessCodeId}": {
      "schema": {
        "$ref": "#/entities/AccessCode"
      },
      "description": "Stores single-use access codes. The 'isUsed' field tracks redemption status."
    }
  }
}
